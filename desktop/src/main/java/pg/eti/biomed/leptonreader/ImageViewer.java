
/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package pg.eti.biomed.leptonreader;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.image.BufferedImage;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;

/**
 *
 * @author ala
 */
public class ImageViewer extends javax.swing.JPanel implements EventListener {

    EventAggregator ea;
    private BufferedImage m;
    ArrayList<Color> colors = new ArrayList<>();
    ArrayList<Color> medianColors = new ArrayList<>();
    int point = 0;

    /**
     * Creates new form ImageViewer
     */
    public ImageViewer() {

        this.ea = null;
        initComponents();
    }

    public ImageViewer(final EventAggregator ea) {

        this.ea = ea;
//        ea.addEventListener(Event.PROCCESSED_IMAGE, this);
        ea.addEventListener(Event.FINISHED_READING, this);
        initComponents();
        addMouseListener(new MouseAdapter() {
            @Override
            public void mousePressed(MouseEvent me) {
                System.out.println(me);
                int x = 0, y = 0;
                x = me.getX();
                y = me.getY();
                if (point == 0) {
                    ea.triggerEvent(Event.NEW_POSITION, x, y);
                    System.out.println(me.getX() + " " + me.getY());
                    point = 1;
                } else {
                    ea.triggerEvent(Event.NEW_POSITION2, x, y);
                    System.out.println(me.getX() + " " + me.getY());
                    point = 0;
                }
            }
        });

    }

    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        setMaximumSize(new java.awt.Dimension(320, 240));
        setMinimumSize(new java.awt.Dimension(320, 240));
        setPreferredSize(new java.awt.Dimension(320, 240));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 400, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 300, Short.MAX_VALUE)
        );
    }// </editor-fold>//GEN-END:initComponents
@Override
    public void paint(Graphics g) {
        try {
            BufferedImage currentImage = m;
            g.drawImage(currentImage, 0, 0, getWidth(), getHeight(), this);

        } catch (Exception e) {
        }
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    // End of variables declaration//GEN-END:variables
    int i = 0;

    //lepton6
//double[] xs = {
//38.0, 38.15, 38.3, 38.45, 38.6, 38.75, 38.9, 39.05, 39.2, 39.35, 41.0, 40.85, 40.7, 40.55, 40.4, 40.25, 40.1, 39.95, 39.8, 39.65, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.1, 38.2, 38.3, 38.4, 38.5, 38.6, 38.7, 38.8, 38.9, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 39.9, 39.8, 39.7, 39.6, 39.5, 39.4, 39.3, 39.2, 39.1, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.1, 38.2, 38.3, 38.4, 38.5, 38.6, 38.7, 38.8, 38.9, 40.0, 40.05, 40.1, 40.15, 40.2, 40.25, 40.3, 40.35, 40.4, 40.45, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 40.15, 40.3, 40.45, 40.6, 40.75, 40.9, 41.05, 41.2, 41.35, 43.0, 42.9, 42.8, 42.7, 42.6, 42.5, 42.4, 42.3, 42.2, 42.1, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 40.05, 40.1, 40.15, 40.2, 40.25, 40.3, 40.35, 40.4, 40.45, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 40.05, 40.1, 40.15, 40.2, 40.25, 40.3, 40.35, 40.4, 40.45, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 40.05, 40.1, 40.15, 40.2, 40.25, 40.3, 40.35, 40.4, 40.45, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 40.15, 40.3, 40.45, 40.6, 40.75, 40.9, 41.05, 41.2, 41.35, 43.0, 42.9, 42.8, 42.7, 42.6, 42.5, 42.4, 42.3, 42.2, 42.1, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 40.05, 40.1, 40.15, 40.2, 40.25, 40.3, 40.35, 40.4, 40.45, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 40.15, 40.3, 40.45, 40.6, 40.75, 40.9, 41.05, 41.2, 41.35, 43.0, 42.9, 42.8, 42.7, 42.6, 42.5, 42.4, 42.3, 42.2, 42.1, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.1, 41.2, 41.3, 41.4, 41.5, 41.6, 41.7, 41.8, 41.9, 43.0, 43.1, 43.2, 43.3, 43.4, 43.5, 43.6, 43.7, 43.8, 43.9, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 44.9, 44.8, 44.7, 44.6, 44.5, 44.4, 44.3, 44.2, 44.1, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 42.9, 42.8, 42.7, 42.6, 42.5, 42.4, 42.3, 42.2, 42.1, 41.0, 41.1, 41.2, 41.3, 41.4, 41.5, 41.6, 41.7, 41.8, 41.9, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.0, 43.1, 43.2, 43.3, 43.4, 43.5, 43.6, 43.7, 43.8, 43.9, 45.0, 44.9, 44.8, 44.7, 44.6, 44.5, 44.4, 44.3, 44.2, 44.1, 43.0, 43.1, 43.2, 43.3, 43.4, 43.5, 43.6, 43.7, 43.8, 43.9, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.05, 45.1, 45.15, 45.2, 45.25, 45.3, 45.35, 45.4, 45.45, 46.0, 45.95, 45.9, 45.85, 45.8, 45.75, 45.7, 45.65, 45.6, 45.55, 45.0, 45.05, 45.1, 45.15, 45.2, 45.25, 45.3, 45.35, 45.4, 45.45, 46.0, 45.95, 45.9, 45.85, 45.8, 45.75, 45.7, 45.65, 45.6, 45.55, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.05, 45.1, 45.15, 45.2, 45.25, 45.3, 45.35, 45.4, 45.45, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 45.85, 45.7, 45.55, 45.4, 45.25, 45.1, 44.95, 44.8, 44.65, 43.0, 43.1, 43.2, 43.3, 43.4, 43.5, 43.6, 43.7, 43.8, 43.9, 45.0, 44.9, 44.8, 44.7, 44.6, 44.5, 44.4, 44.3, 44.2, 44.1, 43.0, 43.25, 43.5, 43.75, 44.0, 44.25, 44.5, 44.75, 45.0, 45.25, 48.0, 47.85, 47.7, 47.55, 47.4, 47.25, 47.1, 46.95, 46.8, 46.65, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.0, 45.05, 45.1, 45.15, 45.2, 45.25, 45.3, 45.35, 45.4, 45.45, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0
//};
//double[] ys = {
//26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 25.95, 25.9, 25.85, 25.8, 25.75, 25.7, 25.65, 25.6, 25.55, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.15, 25.3, 25.45, 25.6, 25.75, 25.9, 26.05, 26.2, 26.35, 28.0, 27.85, 27.7, 27.55, 27.4, 27.25, 27.1, 26.95, 26.8, 26.65, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.05, 25.1, 25.15, 25.2, 25.25, 25.3, 25.35, 25.4, 25.45, 26.0, 25.75, 25.5, 25.25, 25.0, 24.75, 24.5, 24.25, 24.0, 23.75, 21.0, 21.35, 21.7, 22.05, 22.4, 22.75, 23.1, 23.45, 23.8, 24.15, 28.0, 27.9, 27.8, 27.7, 27.6, 27.5, 27.4, 27.3, 27.2, 27.1, 26.0, 25.7, 25.4, 25.1, 24.8, 24.5, 24.2, 23.9, 23.6, 23.3, 20.0, 20.3, 20.6, 20.9, 21.2, 21.5, 21.8, 22.1, 22.4, 22.7, 26.0, 25.7, 25.4, 25.1, 24.8, 24.5, 24.2, 23.9, 23.6, 23.3, 20.0, 20.4, 20.8, 21.2, 21.6, 22.0, 22.4, 22.8, 23.2, 23.6, 28.0, 27.85, 27.7, 27.55, 27.4, 27.25, 27.1, 26.95, 26.8, 26.65, 25.0, 24.9, 24.8, 24.7, 24.6, 24.5, 24.4, 24.3, 24.2, 24.1, 23.0, 22.75, 22.5, 22.25, 22.0, 21.75, 21.5, 21.25, 21.0, 20.75, 18.0, 18.5, 19.0, 19.5, 20.0, 20.5, 21.0, 21.5, 22.0, 22.5, 28.0, 27.5, 27.0, 26.5, 26.0, 25.5, 25.0, 24.5, 24.0, 23.5, 18.0, 18.4, 18.8, 19.2, 19.6, 20.0, 20.4, 20.8, 21.2, 21.6, 26.0, 25.95, 25.9, 25.85, 25.8, 25.75, 25.7, 25.65, 25.6, 25.55, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.05, 25.1, 25.15, 25.2, 25.25, 25.3, 25.35, 25.4, 25.45, 26.0, 25.95, 25.9, 25.85, 25.8, 25.75, 25.7, 25.65, 25.6, 25.55, 25.0, 25.15, 25.3, 25.45, 25.6, 25.75, 25.9, 26.05, 26.2, 26.35, 28.0, 27.85, 27.7, 27.55, 27.4, 27.25, 27.1, 26.95, 26.8, 26.65, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.15, 25.3, 25.45, 25.6, 25.75, 25.9, 26.05, 26.2, 26.35, 28.0, 28.1, 28.2, 28.3, 28.4, 28.5, 28.6, 28.7, 28.8, 28.9, 30.0, 30.0, 30.0, 30.0, 30.0, 30.0, 30.0, 30.0, 30.0, 30.0, 30.0, 29.8, 29.6, 29.4, 29.2, 29.0, 28.8, 28.6, 28.4, 28.2, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.2, 26.4, 26.6, 26.8, 27.0, 27.2, 27.4, 27.6, 27.8, 30.0, 29.65, 29.3, 28.95, 28.6, 28.25, 27.9, 27.55, 27.2, 26.85, 23.0, 23.15, 23.3, 23.45, 23.6, 23.75, 23.9, 24.05, 24.2, 24.35, 26.0, 26.1, 26.2, 26.3, 26.4, 26.5, 26.6, 26.7, 26.8, 26.9, 28.0, 27.65, 27.3, 26.95, 26.6, 26.25, 25.9, 25.55, 25.2, 24.85, 21.0, 21.45, 21.9, 22.35, 22.8, 23.25, 23.7, 24.15, 24.6, 25.05, 30.0, 29.8, 29.6, 29.4, 29.2, 29.0, 28.8, 28.6, 28.4, 28.2, 26.0, 25.95, 25.9, 25.85, 25.8, 25.75, 25.7, 25.65, 25.6, 25.55, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.15, 25.3, 25.45, 25.6, 25.75, 25.9, 26.05, 26.2, 26.35, 28.0, 27.85, 27.7, 27.55, 27.4, 27.25, 27.1, 26.95, 26.8, 26.65, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 24.75, 24.5, 24.25, 24.0, 23.75, 23.5, 23.25, 23.0, 22.75, 20.0, 20.25, 20.5, 20.75, 21.0, 21.25, 21.5, 21.75, 22.0, 22.25, 25.0, 24.65, 24.3, 23.95, 23.6, 23.25, 22.9, 22.55, 22.2, 21.85, 18.0, 18.4, 18.8, 19.2, 19.6, 20.0, 20.4, 20.8, 21.2, 21.6, 26.0, 25.85, 25.7, 25.55, 25.4, 25.25, 25.1, 24.95, 24.8, 24.65, 23.0, 22.75, 22.5, 22.25, 22.0, 21.75, 21.5, 21.25, 21.0, 20.75, 18.0, 18.35, 18.7, 19.05, 19.4, 19.75, 20.1, 20.45, 20.8, 21.15, 25.0, 24.9, 24.8, 24.7, 24.6, 24.5, 24.4, 24.3, 24.2, 24.1, 23.0, 23.25, 23.5, 23.75, 24.0, 24.25, 24.5, 24.75, 25.0, 25.25, 28.0, 27.9, 27.8, 27.7, 27.6, 27.5, 27.4, 27.3, 27.2, 27.1, 26.0, 25.95, 25.9, 25.85, 25.8, 25.75, 25.7, 25.65, 25.6, 25.55, 25.0, 24.9, 24.8, 24.7, 24.6, 24.5, 24.4, 24.3, 24.2, 24.1, 23.0, 22.9, 22.8, 22.7, 22.6, 22.5, 22.4, 22.3, 22.2, 22.1, 21.0, 21.2, 21.4, 21.6, 21.8, 22.0, 22.2, 22.4, 22.6, 22.8, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 24.8, 24.6, 24.4, 24.2, 24.0, 23.8, 23.6, 23.4, 23.2, 21.0, 21.2, 21.4, 21.6, 21.8, 22.0, 22.2, 22.4, 22.6, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8
//};
    //lepton j - with movement
//    double[] xs = {
//38.0, 38.15, 38.3, 38.45, 38.6, 38.75, 38.9, 39.05, 39.2, 39.35, 41.0, 40.85, 40.7, 40.55, 40.4, 40.25, 40.1, 39.95, 39.8, 39.65, 38.0, 37.9, 37.8, 37.7, 37.6, 37.5, 37.4, 37.3, 37.2, 37.1, 36.0, 36.2, 36.4, 36.6, 36.8, 37.0, 37.2, 37.4, 37.6, 37.8, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 39.75, 39.5, 39.25, 39.0, 38.75, 38.5, 38.25, 38.0, 37.75, 35.0, 35.15, 35.3, 35.45, 35.6, 35.75, 35.9, 36.05, 36.2, 36.35, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.0, 38.1, 38.2, 38.3, 38.4, 38.5, 38.6, 38.7, 38.8, 38.9, 40.0, 40.05, 40.1, 40.15, 40.2, 40.25, 40.3, 40.35, 40.4, 40.45, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 39.65, 39.3, 38.95, 38.6, 38.25, 37.9, 37.55, 37.2, 36.85, 33.0, 33.4, 33.8, 34.2, 34.6, 35.0, 35.4, 35.8, 36.2, 36.6, 41.0, 40.6, 40.2, 39.8, 39.4, 39.0, 38.6, 38.2, 37.8, 37.4, 33.0, 33.4, 33.8, 34.2, 34.6, 35.0, 35.4, 35.8, 36.2, 36.6, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 40.05, 40.1, 40.15, 40.2, 40.25, 40.3, 40.35, 40.4, 40.45, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 41.0, 40.95, 40.9, 40.85, 40.8, 40.75, 40.7, 40.65, 40.6, 40.55, 40.0, 39.75, 39.5, 39.25, 39.0, 38.75, 38.5, 38.25, 38.0, 37.75, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0
//};
//double[] ys = {
//26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 26.0, 25.95, 25.9, 25.85, 25.8, 25.75, 25.7, 25.65, 25.6, 25.55, 25.0, 24.9, 24.8, 24.7, 24.6, 24.5, 24.4, 24.3, 24.2, 24.1, 23.0, 23.1, 23.2, 23.3, 23.4, 23.5, 23.6, 23.7, 23.8, 23.9, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 24.9, 24.8, 24.7, 24.6, 24.5, 24.4, 24.3, 24.2, 24.1, 23.0, 23.25, 23.5, 23.75, 24.0, 24.25, 24.5, 24.75, 25.0, 25.25, 28.0, 27.85, 27.7, 27.55, 27.4, 27.25, 27.1, 26.95, 26.8, 26.65, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.0, 25.05, 25.1, 25.15, 25.2, 25.25, 25.3, 25.35, 25.4, 25.45, 26.0, 25.75, 25.5, 25.25, 25.0, 24.75, 24.5, 24.25, 24.0, 23.75, 21.0, 20.85, 20.7, 20.55, 20.4, 20.25, 20.1, 19.95, 19.8, 19.65, 18.0, 18.4, 18.8, 19.2, 19.6, 20.0, 20.4, 20.8, 21.2, 21.6, 26.0, 25.95, 25.9, 25.85, 25.8, 25.75, 25.7, 25.65, 25.6, 25.55, 25.0, 25.05, 25.1, 25.15, 25.2, 25.25, 25.3, 25.35, 25.4, 25.45, 26.0, 25.7, 25.4, 25.1, 24.8, 24.5, 24.2, 23.9, 23.6, 23.3, 20.0, 20.4, 20.8, 21.2, 21.6, 22.0, 22.4, 22.8, 23.2, 23.6, 28.0, 27.85, 27.7, 27.55, 27.4, 27.25, 27.1, 26.95, 26.8, 26.65, 25.0, 24.9, 24.8, 24.7, 24.6, 24.5, 24.4, 24.3, 24.2, 24.1, 23.0, 22.75, 22.5, 22.25, 22.0, 21.75, 21.5, 21.25, 21.0, 20.75, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8
//};
    //lepton a
    double[] xs = {
        31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.0, 31.2, 31.4, 31.6, 31.8, 32.0, 32.2, 32.4, 32.6, 32.8, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.05, 35.1, 35.15, 35.2, 35.25, 35.3, 35.35, 35.4, 35.45, 36.0, 36.0, 36.0, 36.0, 36.0, 36.0, 36.0, 36.0, 36.0, 36.0, 36.0, 35.85, 35.7, 35.55, 35.4, 35.25, 35.1, 34.95, 34.8, 34.65, 33.0, 33.1, 33.2, 33.3, 33.4, 33.5, 33.6, 33.7, 33.8, 33.9, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 34.9, 34.8, 34.7, 34.6, 34.5, 34.4, 34.3, 34.2, 34.1, 33.0, 33.1, 33.2, 33.3, 33.4, 33.5, 33.6, 33.7, 33.8, 33.9, 35.0, 35.25, 35.5, 35.75, 36.0, 36.25, 36.5, 36.75, 37.0, 37.25, 40.0, 39.65, 39.3, 38.95, 38.6, 38.25, 37.9, 37.55, 37.2, 36.85, 33.0, 33.1, 33.2, 33.3, 33.4, 33.5, 33.6, 33.7, 33.8, 33.9, 35.0, 34.9, 34.8, 34.7, 34.6, 34.5, 34.4, 34.3, 34.2, 34.1, 33.0, 33.0, 33.0, 33.0, 33.0, 33.0, 33.0, 33.0, 33.0, 33.0, 33.0, 33.1, 33.2, 33.3, 33.4, 33.5, 33.6, 33.7, 33.8, 33.9, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 35.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0, 46.0
    };
    double[] ys = {
        18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.1, 18.2, 18.3, 18.4, 18.5, 18.6, 18.7, 18.8, 18.9, 20.0, 19.9, 19.8, 19.7, 19.6, 19.5, 19.4, 19.3, 19.2, 19.1, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.1, 18.2, 18.3, 18.4, 18.5, 18.6, 18.7, 18.8, 18.9, 20.0, 20.05, 20.1, 20.15, 20.2, 20.25, 20.3, 20.35, 20.4, 20.45, 21.0, 20.95, 20.9, 20.85, 20.8, 20.75, 20.7, 20.65, 20.6, 20.55, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.4, 20.8, 21.2, 21.6, 22.0, 22.4, 22.8, 23.2, 23.6, 28.0, 27.35, 26.7, 26.05, 25.4, 24.75, 24.1, 23.45, 22.8, 22.15, 15.0, 15.15, 15.3, 15.45, 15.6, 15.75, 15.9, 16.05, 16.2, 16.35, 18.0, 18.1, 18.2, 18.3, 18.4, 18.5, 18.6, 18.7, 18.8, 18.9, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.05, 20.1, 20.15, 20.2, 20.25, 20.3, 20.35, 20.4, 20.45, 21.0, 21.0, 21.0, 21.0, 21.0, 21.0, 21.0, 21.0, 21.0, 21.0, 21.0, 20.85, 20.7, 20.55, 20.4, 20.25, 20.1, 19.95, 19.8, 19.65, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 18.1, 18.2, 18.3, 18.4, 18.5, 18.6, 18.7, 18.8, 18.9, 20.0, 19.9, 19.8, 19.7, 19.6, 19.5, 19.4, 19.3, 19.2, 19.1, 18.0, 18.1, 18.2, 18.3, 18.4, 18.5, 18.6, 18.7, 18.8, 18.9, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8
    };

    public void onEventOccurred(Event event, Object parameter, Object parameter2) {
        if (event == Event.PROCCESSED_IMAGE) {
            try {
                m = (BufferedImage) parameter;
                // m = Tools.DrawRectangle(m, (int)xs[0], (int)ys[0], 15, 20);
                //colors.add(Tools.averageColor(m, (int)xs[i], (int)ys[i], 15, 20));
                //medianColors.add(Tools.medianColor(m, (int)xs[i], (int)ys[i], 15, 20));
                i++;
                Thread.sleep(40);
                repaint();
            } catch (InterruptedException ex) {
                Logger.getLogger(ImageViewer.class.getName()).log(Level.SEVERE, null, ex);
            }
        } else if (event == Event.FINISHED_READING) {
            for (int index = 0; index < medianColors.size(); index++) {
                System.out.println(medianColors.get(index).getGreen());
            }
        }

    }

}
